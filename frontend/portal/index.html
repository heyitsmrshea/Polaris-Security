<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Polaris Security Portal</title>
    
    <!-- Preconnect for performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    
    <!-- Fonts: Outfit (display), Inter (body), IBM Plex Mono (code) -->
    <link
      href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;600;700;800&family=Inter:wght@400;500;600;700&family=IBM+Plex+Mono:wght@400;600&display=swap"
      rel="stylesheet"
    />
    
    <link rel="stylesheet" href="./styles.css?v=20260116b" />
    <meta name="color-scheme" content="light dark" />
    
    <!-- SEO & Social -->
    <meta name="description" content="Evidence-backed security reporting. Reports, runs, and evidence in one place with bundled artifacts and audit-ready documentation." />
    <meta name="theme-color" content="#6366f1" />
  </head>
  <body>
    <div id="app"></div>

    <div id="toast-root" aria-live="polite" aria-atomic="true"></div>

    <script src="./app.js?v=20260116b"></script>
    
    <!-- Scroll animation observer -->
    <script>
      // Intersection Observer for scroll-triggered animations
      document.addEventListener('DOMContentLoaded', () => {
        const observer = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              entry.target.classList.add('visible');
            }
          });
        }, {
          threshold: 0.1,
          rootMargin: '0px 0px -50px 0px'
        });

        // Observe all sections with data-animate attribute
        document.querySelectorAll('[data-animate]').forEach(el => {
          observer.observe(el);
        });
        
        // Nav scroll effect
        const nav = document.querySelector('.nav');
        if (nav) {
          window.addEventListener('scroll', () => {
            if (window.scrollY > 20) {
              nav.classList.add('scrolled');
            } else {
              nav.classList.remove('scrolled');
            }
          }, { passive: true });
        }
      });
      
      // Re-run observer on hash change (SPA navigation)
      window.addEventListener('hashchange', () => {
        setTimeout(() => {
          document.querySelectorAll('[data-animate]').forEach(el => {
            const observer = new IntersectionObserver((entries) => {
              entries.forEach(entry => {
                if (entry.isIntersecting) {
                  entry.target.classList.add('visible');
                }
              });
            }, { threshold: 0.1 });
            observer.observe(el);
          });
        }, 100);
      });
    </script>
  </body>
</html>
